{% extends "base.html" %}

{% block title %}Services - Appointment Scheduler{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section text-center py-4 mb-4">
    <div class="container">
        <h1 class="display-5 fw-bold text-primary mb-3">
            <i class="fas fa-concierge-bell me-3"></i>
            Our Services
        </h1>
        <p class="lead text-muted mb-4">
            Discover a wide range of professional services from trusted providers. Book appointments for hair, beauty, wellness, fitness, and more.
        </p>
    </div>
</div>

<!-- Search and Filter -->
<div class="row mb-4">
    <div class="col-12">
        <div class="card shadow-sm">
            <div class="card-body">
                <div class="row g-3">
                    <div class="col-md-6">
                        <div class="input-group">
                            <span class="input-group-text">
                                <i class="fas fa-search"></i>
                            </span>
                            <input type="text" class="form-control" id="serviceSearch" 
                                   placeholder="Search services or providers...">
                        </div>
                    </div>
                    <div class="col-md-3">
                        <select class="form-select" id="categoryFilter">
                            <option value="">All Categories</option>
                            <option value="Hair & Beauty">Hair & Beauty</option>
                            <option value="Wellness & Spa">Wellness & Spa</option>
                            <option value="Fitness & Training">Fitness & Training</option>
                            <option value="Health & Medical">Health & Medical</option>
                            <option value="Specialty Services">Specialty Services</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <select class="form-select" id="priceFilter">
                            <option value="">All Price Ranges</option>
                            <option value="0-50">Under $50</option>
                            <option value="50-100">$50 - $100</option>
                            <option value="100-200">$100 - $200</option>
                            <option value="200+">$200+</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Services by Category -->
{% for category in services %}
<div class="service-category mb-5">
    <div class="category-header mb-4">
        <h3 class="text-{{ category.color }}">
            <i class="{{ category.icon }} me-2"></i>
            {{ category.category }}
        </h3>
        <p class="text-muted">{{ category.description }}</p>
    </div>
    
    <div class="row g-4">
        {% for service in category.services %}
        <div class="col-lg-4 col-md-6 service-card" 
             data-category="{{ category.category }}" 
             data-price="{{ service.price_range }}" 
             data-name="{{ service.name|lower }}">
            <div class="card h-100 shadow-sm hover-card">
                <div class="card-header bg-{{ category.color }} text-white">
                    <div class="d-flex justify-content-between align-items-center">
                        <h5 class="mb-0">{{ service.name }}</h5>
                        {% if service.popular %}
                        <span class="badge bg-warning text-dark">
                            <i class="fas fa-star me-1"></i>Popular
                        </span>
                        {% endif %}
                    </div>
                </div>
                <div class="card-body">
                    <p class="text-muted mb-3">{{ service.description }}</p>
                    
                    <div class="service-details mb-3">
                        <div class="detail-item mb-2">
                            <i class="fas fa-clock text-muted me-2"></i>
                            <strong>Duration:</strong> {{ service.duration }}
                        </div>
                        <div class="detail-item mb-2">
                            <i class="fas fa-dollar-sign text-muted me-2"></i>
                            <strong>Price:</strong> {{ service.price_range }}
                        </div>
                        <div class="detail-item mb-3">
                            <i class="fas fa-building text-muted me-2"></i>
                            <strong>Providers:</strong> {{ service.provider_details|length }} available
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-light">
                    <div class="d-grid gap-2">
                        {% if service.name == 'Hair Salon' %}
                            <a href="{{ url_for('hair_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Nail Salon' %}
                            <a href="{{ url_for('nail_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Eyebrow & Eyelash' %}
                            <a href="{{ url_for('eyebrow_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Massage Therapy' %}
                            <a href="{{ url_for('massage_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Spa Treatment' %}
                            <a href="{{ url_for('spa_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Aromatherapy' %}
                            <a href="{{ url_for('aromatherapy_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Personal Training' %}
                            <a href="{{ url_for('training_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Yoga Classes' %}
                            <a href="{{ url_for('yoga_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Pilates' %}
                            <a href="{{ url_for('pilates_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Dermatology' %}
                            <a href="{{ url_for('dermatology_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Physical Therapy' %}
                            <a href="{{ url_for('physical_therapy_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Nutrition Counseling' %}
                            <a href="{{ url_for('nutrition_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Makeup Artist' %}
                            <a href="{{ url_for('makeup_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Photography' %}
                            <a href="{{ url_for('photography_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% elif service.name == 'Life Coaching' %}
                            <a href="{{ url_for('lifecoaching_providers') }}" class="btn btn-outline-{{ category.color }} btn-sm">
                                <i class="fas fa-eye me-1"></i>View Providers
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endfor %}

<!-- No Results Message -->
<div id="noResults" class="text-center py-5" style="display: none;">
    <i class="fas fa-search fa-4x text-muted mb-3"></i>
    <h5 class="text-muted">No services found</h5>
    <p class="text-muted">Try adjusting your search criteria or browse all categories.</p>
    <button class="btn btn-primary" onclick="clearFilters()">
        <i class="fas fa-refresh me-1"></i>Clear Filters
    </button>
</div>

<!-- View Providers Modal -->
<div class="modal fade" id="providersModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-building me-2"></i>
                    <span id="modalServiceName">Service</span> - Available Providers
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div id="providersList" class="row g-3">
                    <!-- Providers will be populated by JavaScript -->
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Book Service Modal -->
<div class="modal fade" id="bookServiceModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <i class="fas fa-calendar-plus me-2"></i>
                    Book <span id="bookServiceName">Service</span>
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="alert alert-info">
                    <i class="fas fa-info-circle me-2"></i>
                    This will redirect you to the appointment scheduling page with the service pre-selected.
                </div>
                <p>You'll be able to choose your preferred provider and time slot on the next page.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="proceedToBooking()">Continue to Booking</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
